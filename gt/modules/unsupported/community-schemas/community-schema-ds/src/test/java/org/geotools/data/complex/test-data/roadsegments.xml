<?xml version="1.0" encoding="UTF-8"?>
<c:ComplexDataStore xmlns:c="http://www.geotools.org/complex" xmlns:ogc="http://www.opengis.net/ogc"
  xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://www.geotools.org/complex ComplexDataStore.xsd
                      http://www.opengis.net/ogc http://schemas.opengis.net/filter/1.1.0/expr.xsd">
  <namespaces>
    <Namespace><prefix>sco</prefix><uri>http://online.socialchange.net.au</uri></Namespace>
  </namespaces>
  <sourceDataStores>
    <DataStore>
      <id>directory1</id>
      <parameters>
        <Parameter>
          <name>directory</name>
          <!-- path can be relative to working dir -->
          <value>test/org/geotools/data/complex/test-data</value>
        </Parameter>
      </parameters>
    </DataStore>
  </sourceDataStores>
  <targetTypes>
    <FeatureType>
      <schemaUri>RoadSegment.xsd</schemaUri>
    </FeatureType>
  </targetTypes>
  <typeMappings>
    <FeatureTypeMapping>
      <sourceDataStore>directory1</sourceDataStore>
      <sourceType>RoadSegments</sourceType>
      <targetElement>sco:RoadSegment</targetElement>
      <groupBy/>
      <fidMappings>
        <FidMapping>
          <targetAttribute>RoadSegment</targetAttribute>
          <sourceExpression>
            <OCQL>getId()</OCQL>
          </sourceExpression>
        </FidMapping>
        <FidMapping>
          <targetAttribute>RoadSegment/fromToNodes</targetAttribute>
          <sourceExpression>
            <OCQL>FID</OCQL>
          </sourceExpression>
        </FidMapping>
      </fidMappings>
      <attributeMappings>
        <AttributeMapping>
          <targetAttribute>RoadSegment/fromToNodes</targetAttribute>
          <sourceExpression>
            <OCQL>null</OCQL>
          </sourceExpression>
        </AttributeMapping>
        <AttributeMapping>
          <targetAttribute>RoadSegment/fromToNodes/fromNode</targetAttribute>
          <sourceExpression>
            <OCQL>fromNode</OCQL>
          </sourceExpression>
        </AttributeMapping>
        <AttributeMapping>
          <targetAttribute>RoadSegment/fromToNodes/toNode</targetAttribute>
          <sourceExpression>
            <OCQL>toNode</OCQL>
          </sourceExpression>
        </AttributeMapping>
        <AttributeMapping>
          <targetAttribute>RoadSegment/name</targetAttribute>
          <sourceExpression>
            <OCQL>NAME</OCQL>
          </sourceExpression>
        </AttributeMapping>
        <AttributeMapping>
          <targetAttribute>RoadSegment/the_geom</targetAttribute>
          <sourceExpression>
            <OCQL>the_geom</OCQL>
          </sourceExpression>
        </AttributeMapping>
      </attributeMappings>
    </FeatureTypeMapping>
  </typeMappings>
</c:ComplexDataStore>
