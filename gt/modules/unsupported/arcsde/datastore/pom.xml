<?xml version="1.0" encoding="UTF-8"?>
<!-- =======================================================================    
        Maven Project Configuration File                                        
                                                                                
        The Geotools Project                                                    
            http://www.geotools.org/                                            
                                                                                
        Version: $Id$              
     ======================================================================= -->
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 
                               http://maven.apache.org/maven-v4_0_0.xsd">
  <modelVersion>4.0.0</modelVersion>
  <parent>
    <groupId>org.geotools</groupId>
    <artifactId>gt2-arcsde-plugin</artifactId>
    <version>2.4-SNAPSHOT</version>
  </parent>
  <!-- =========================================================== -->
  <!--     Module Description                                      -->
  <!-- =========================================================== -->
  <groupId>org.geotools</groupId>
  <artifactId>gt2-arcsde</artifactId>
  <packaging>jar</packaging>
  <name>ArcSDE DataStore plugin</name>
  <url>http://maven.geotools.fr/reports/modules/unsupported/arcsde/datastore/</url>
  <scm>
    <connection> scm:svn:http://svn.geotools.org/geotools/trunk/gt/modules/unsupported/arcsde/datastore/ </connection>
    <url>http://svn.geotools.org/geotools/trunk/gt/modules/unsupported/arcsde/datastore/</url>
  </scm>
  <description> ArcSDE DataStore plugin. </description>
  <licenses>
    <license>
      <name>Lesser General Public License (LGPL)</name>
      <url>http://www.gnu.org/copyleft/lesser.txt</url>
      <distribution>repo</distribution>
    </license>
  </licenses>
  <!-- =========================================================== -->
  <!--     Developers and Contributors                             -->
  <!-- =========================================================== -->
  <developers>
    <developer>
      <name>Gabriel Roldan</name>
      <id>groldan</id>
      <email>groldan@axios.es</email>
      <organization>Axios Engineering</organization>
      <roles>
        <role>Module Maintainer</role>
        <role>Java Developer</role>
      </roles>
    </developer>
    <developer>
      <name>Chris Dillard</name>
      <id>csdillard</id>
      <email>cdillard@polexis.com</email>
      <organization>Polexis</organization>
      <roles>
        <role>Java Developer</role>
      </roles>
    </developer>
    <developer>
      <name>Jake Fear</name>
      <id>jfear</id>
      <email>jfear@polexis.com</email>
      <organization>Polexis</organization>
      <roles>
        <role>Java Developer</role>
      </roles>
    </developer>
  </developers>
  <!-- =========================================================== -->
  <!--     Dependency Management                                   -->
  <!-- =========================================================== -->
  <dependencies>
    <dependency>
      <groupId>org.geotools</groupId>
      <artifactId>gt2-jdbc</artifactId>
      <version>${project.version}</version>
    </dependency>
    <dependency>
      <groupId>org.geotools</groupId>
      <artifactId>gt2-jts-wrapper</artifactId>
      <version>${project.version}</version>
    </dependency>
    <dependency>
      <groupId>commons-pool</groupId>
      <artifactId>commons-pool</artifactId>
    </dependency>
    <dependency>
      <groupId>org.geotools</groupId>
      <artifactId>gt2-sample-data</artifactId>
      <version>${project.version}</version>
      <scope>test</scope>
    </dependency>
    <dependency>
      <groupId>org.geotools</groupId>
      <artifactId>gt2-coverage</artifactId>
      <version>${project.version}</version>
    </dependency>
    <dependency>
      <groupId>org.geotools</groupId>
      <artifactId>gt2-render</artifactId>
      <version>${project.version}</version>
      <scope>test</scope>
    </dependency>
  </dependencies>
  
  <!-- =========================================================== -->
  <!--     Profile Configuration                                   -->
  <!-- =========================================================== -->
  <profiles>
    <profile>
      <id>autoSDEDummyJars</id>
      <activation>
        <activeByDefault>true</activeByDefault>
        <property>
          <name>haveSDEJars</name>
          <value>false</value>
        </property>
      </activation>
      <dependencies>
        <dependency>
          <groupId>org.geotools</groupId>
          <artifactId>gt2-sde-dummy</artifactId>
          <version>${project.version}</version>
          <scope>provided</scope>
        </dependency>
      </dependencies>
      <build>
        <plugins>
          <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-surefire-plugin</artifactId>
            <configuration>
              <!-- if we're using the dummy api, we should disable all tests -->
              <excludes>
                <exclude>**/*.java</exclude>
              </excludes>
            </configuration>
          </plugin>
        </plugins>
      </build>
    </profile>
    <profile>
      <id>haveSDEJars</id>
      <activation>
        <property>
          <name>haveSDEJars</name>
          <value>true</value>
        </property>
      </activation>
      <dependencies>
        <dependency>
          <groupId>com.esri</groupId>
          <artifactId>jsde_sdk</artifactId>
          <version>${sde.version}</version>
        </dependency>
        <!-- TODO: This dependencies should be removed when we will be allowed to
          compile for JSE 5. This JAR duplicates edu.oswego.concurrent
          inherited from main. -->
        <dependency>
          <groupId>com.esri</groupId>
          <artifactId>jsde_concurrent</artifactId>
          <version>${sde.version}</version>
        </dependency>
        <dependency>
          <groupId>com.esri</groupId>
          <artifactId>jsde_jpe_sdk</artifactId>
          <version>${sde.version}</version>
        </dependency>
      </dependencies>
      <build>
        <plugins>
          <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-surefire-plugin</artifactId>
            <configuration>
              <!-- You need two things to run these tests successfully
                1)  The esri ArcSDE jars installed.  The 9.0 jars are freely available
                so as long as you have #2, you can rely on those ones.  If you have
                jsde jars other than 9.0 you need to inject them into
                maven manually and set the sde.version property in the parent pom
                or on the command line.
                2)  A properly configured testparams.properties file.  Make
                sure it correctly references your SDE server with usernames and passwords
                in there correctly.
                
                Since if you're building with the *real* SDE jars from SVN, I'd suggest
                you enable these tests, just to make sure the SDE plugin is actually
                correctly working right now!
              -->
              <includes>
                <include>**/ArcSDETestSuite.java</include>
              </includes>
              <excludes>
                <!-- These tests are currently broken.  Don't enable them -->
                <exclude>**/*Test.java</exclude>
              </excludes>
            </configuration>
          </plugin>
        </plugins>
      </build>
    </profile>
    <profile>
      <!-- this profile auto-drags in the ArcSDE 9.2 dependecy
           on the icu4j libraries -->
      <activation>
        <property>
          <name>sde.version</name>
          <value>9.2</value>
        </property>
      </activation>
      <dependencies>
        <dependency>
          <groupId>com.esri</groupId>
          <artifactId>jsde_icu4j</artifactId>
          <version>${sde.version}</version>
        </dependency>
      </dependencies>
    </profile>
  </profiles>
</project>
