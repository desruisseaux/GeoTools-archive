<project xmlns:j="jelly:core" xmlns:u="jelly:util" xmlns:ant="jelly:ant" xmlns:maven="jelly:maven" xmlns:deploy="deploy" default="info">

  
   <preGoal name="java:compile">
    <attainGoal name="javacc:jjtree-generate"/>
    <attainGoal name="javacc:javacc-generate"/>
   <path id="maven.javacc.compile.src.set"
            location="${basedir}/target/generated-src/main/java"/>
        <maven:addPath id="maven.compile.src.set"
            refid="maven.javacc.compile.src.set"/>
   <ant:copy overwrite="true" todir="${basedir}/target/generated-src/main/java">
			<ant:fileset dir="modified-src">
				<ant:include name="**/*.java"/>
			</ant:fileset>
		</ant:copy>
   </preGoal>

   
<!-- ==================================================================== -->
<!-- Post goals for the CTS module: compile RMI stubs                     -->
<!-- ==================================================================== -->   
  <postGoal name="java:compile">
    <rmic base="${maven.build.dest}" stubversion="1.2">
      <classpath>
            <path refid="maven.dependency.classpath"/>
      </classpath>
      <include name="org/geotools/cs/Info*Unit.class"/>
      <include name="org/geotools/cs/*Export.class"/>
      <include name="org/geotools/ct/*Export.class"/>
      <include name="org/geotools/cv/*Export.class"/>
      <exclude name="META-INF/services/org.opengis.referencing.crs.CRSAuthorityFactory "/>
    </rmic>
  </postGoal> 
  
  
</project>



