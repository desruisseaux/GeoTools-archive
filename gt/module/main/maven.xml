<project xmlns:j="jelly:core" xmlns:u="jelly:util" xmlns:ant="jelly:ant" xmlns:maven="jelly:maven" xmlns:deploy="deploy" default="info">

  <preGoal name="java:compile">
    <attainGoal name="javacc:jjtree-generate"/>
    <attainGoal name="javacc:javacc-generate"/>
    <path id="maven.javacc.compile.src.set"
          location="${basedir}/target/generated-src/main/java"/>
    <maven:addPath id="maven.compile.src.set"
                refid="maven.javacc.compile.src.set"/>
    <ant:copy overwrite="true" todir="${basedir}/target/generated-src/main/java">
      <ant:fileset dir="modified-src">
        <ant:include name="**/*.java"/>
      </ant:fileset>
    </ant:copy>
  </preGoal>

</project>
